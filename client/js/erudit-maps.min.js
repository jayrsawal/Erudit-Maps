function pushInfoWidget(e){var t="<div class='tool-box-widget'>    <span class='widget-close' onclick='$(this).parent().remove();'>x</span><h2>"+e.title+"</h2><p>Journal: "+e.journal+"<br/>Author: "+e.author+"<br/>Year: "+e.year+"<br/>Period: "+e.period+"</p></div>";$("#tool-box").append(t)}var map=new google.maps.Map(d3.select("#map").node(),{zoom:5,minZoom:3,maxZoom:6,center:new google.maps.LatLng(55,-72),mapTypeId:google.maps.MapTypeId.TERRAIN}),allowed_bounds=new google.maps.LatLngBounds(new google.maps.LatLng(1,-1),new google.maps.LatLng(-1,1)),last_valid_center=map.getCenter();d3.json("stations.json",function(e,t){if(e)throw e;var o=new google.maps.OverlayView;o.onAdd=function(){var e=d3.select(this.getPanes().overlayMouseTarget).append("div").attr("class","stations");o.draw=function(){function o(e){return e=new google.maps.LatLng(e.value.lat,e.value.lng),e=a.fromLatLngToDivPixel(e),d3.select(this).style("left",e.x-n+"px").style("top",e.y-n+"px")}var a=this.getProjection(),n=10;e.selectAll("svg").data(d3.entries(t)).each(o).enter().append("svg").each(o).attr("class","marker").on("mouseover",function(e){d3.select(this).selectAll("circle").attr({fill:"orange",r:9})}).on("mouseout",function(e){d3.select(this).selectAll("circle").attr({fill:"brown",r:4.5})}).on("click",function(e){pushInfoWidget(e.value)}).append("circle").attr("r",4.5).attr("cx",n).attr("cy",n)}},o.setMap(map)}),$(document).ready(function(){$("#tool-box").width(.2*$(window).width())});